<?php include("macros.php3"); ?>
<?php heading("Virtual machine", "virtual\nmachine") ?>


<?php section("overview", "overview") ?>

<P>The virtual machine is required to execute Alice applications. It takes the
URL of the application's <A href="components.html">root component</A> and
evaluates it.</P>


<?php section("synopsis", "synopsis") ?>

<DL>
  <DT><TT>alicerun</TT> <I>&lt;url&gt;</I>
    <I>&lt;args&gt;</I> ...</DT>
</DL>


<?php section("description", "description") ?>

<P>Executes the application given by <I>&lt;url&gt;</I>, denoting a compiled
component. The component is located, loaded and evaluated using the root <A
href="library/component-manager.html">component manager</A>. The component may
be a Mozart component (<A
href="http://www.mozart-oz.org/documentation/apptut/node3.html">Mozart
"functor"</A>).</P>

<P>The application can access the remaining command line arguments via the <A
href="library/command-line.html"><TT>CommandLine</TT></A> library structure. 
To terminate an application, the <TT>OS.Process.terminate</TT> function must be
invoked. The virtual machine will <EM>not</EM> be terminated automatically,
even if no live threads are left.</P>


<?php section("environment-variables", "environment variables") ?>

<DL>
  <DT><TT>STOCKHOME</TT>
  <DD>specifies the directory where Alice is installed.  If not set,
    <TT>alicerun</TT> guesses its name by looking in the following
    directories, in that order:
    <OL>
      <LI><TT>/usr/share/alice</TT>, which is the default installation
	path on some Unix variants
      <LI><TT>%PROGRAMFILES%/Alice</TT>, which is the default installation
	path on Windows
      <LI>The parent directory of the directory in which <TT>alicerun</TT>
	resides.
    </OL>
  <DT><TT>ALICE_LOAD_PREFIX</TT>
  <DT><TT>ALICE_LOAD_SUFFIX</TT>
  <DD>specify resolving methods to use when trying to access components.
    Components are resolved with the following methods, in order:
    <OL><!--** mozart -->
      <LI><P>If <TT>ALICE_LOAD_PREFIX</TT> is set, its methods are tried
	before any of the following.</P>
      <LI><P>If the URL uses the <TT>x-oz</TT> scheme, it is tried as-is,
	for compatibility with Oz.</P>
      <LI><P>Otherwise, the URL is tried with the platform's default component
	extension appended, which is <TT>.ozf</TT>.</P>
      <LI><P>If that fails, the URL is tried as-is, for compatibility
	with Oz.</P>
      <LI><P>If that fails, and <TT>ALICE_LOAD_SUFFIX</TT> is set, its methods
	are tried at this point.</P>
    </OL>
</DL>


<?php footing() ?>
