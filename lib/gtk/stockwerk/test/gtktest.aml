import structure Gtk from "../Gtk"
import structure Gdk from "../Gdk"
import structure Image from "Image"

local
  open Gtk
in
  (*val _ = widgetShow (colorSelectionDialogNew "Farbe auswaehlen...")*)

  val w = windowNew WINDOW_TOPLEVEL
  val _ = windowSetTitle(w, "Hallo Welt!")
  val _ = containerSetBorderWidth(w,10)

  val gdkpic = Gdk.pixbufNewFromXpmData Image.pixmap
  val i = imageNewFromPixbuf(gdkpic)

  val b = buttonNewWithLabel "Test"

  val tb = textBufferNew NULL
  val tv = textViewNewWithBuffer tb

  val c = comboNew()
  val _ = comboSetPopdownStrings(c, ["Auswahl 1", "Auswahl 2"])


  val box = vboxNew(false,0)

  val _ = ( boxPackStart(box,b ,false,false,0) ;
	    boxPackStart(box,tv,false,false,0) ;
	    boxPackStart(box,c ,false,false,0) ;
	    boxPackStart(box,i ,false,false,0) ;
	    containerAdd (w,box) ;
 	    widgetShowAll w )
      
  fun cb (widget, arglist) = ( print "callback function called !!!\n" )

  val s1 = signalConnectAfter(b,"clicked",cb)
  val s2 = signalConnect(tb,"insert_text",cb)

end
