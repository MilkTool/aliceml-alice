#!/bin/sh

if [ $# -lt 1 ]; then
    echo "usage: $0 [--verbose|-v] (cc|c++|ld) <option> ..." >&2
    exit 2
fi

mode=$1; shift

if test -z "${ALICE_HOME}"; then
  ALICE_HOME=$(dirname $(dirname $0))
fi

case "$mode" in
    makedepend)
	exec seamtool -I$ALICE_HOME/include makedepend "$@"
	;;
    c++)
	exec seamtool -I$ALICE_HOME/include c++ "$@"
	;;
    ld)
	exec seamtool ld "$@" "$ALICE_HOME/alice.dll"
	;;
    *)
	echo $0: unknown mode \`$1\' >&2
	exit 2
	;;
esac

exit 0
